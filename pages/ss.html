<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form test</title>
    <link rel="icon" href="../assets/logo-header-nav/Grizzly Smaller.png">
    
    <link rel="stylesheet" href="../css/form.css">

    <!-- fontawesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <div class="main">
        <section class="navigation">
            <nav class="container">
                
                <i onclick="window.location.href='./opinion.html'" class="fa-solid fa-chevron-left"></i>
                
                <img src="../assets/logo-header-nav/Grizzly Smaller.png" alt="">
                <div class="time">
                    <div id="countdown">
                        <div class="js-timeout">
                            <span class="hours">
                                00
                            </span>
                            <span>:</span>
                            <span class="minute">
                                00
                            </span>
                            <span>:</span>
                            <span class="second">
                                00
                            </span>
                        </div>
                    </div>
                </div>
            </nav>
        </section>
        <section class="question-section">
            <div class="form_container container">
                <div class="progress-container">
                    <div class="rectangle-wrapper">
                        <div class="circle">
                            <div class="inner-circle">
                            </div>
                            <div class="active-circle">
                            </div>
                        </div>
                        <div class="circle">
                            <div class="connect"></div>
                            <div class="inner-circle">
                            </div>
                            <div class="top-active">
                                <div class="active-connect"></div>
                                <div class="active-circle">
                                </div>
                            </div>
                        </div>
                        <div class="circle">
                            <div class="connect"></div>
                            <div class="inner-circle">
                            </div>
                            <div class="top-active">
                                <div class="active-connect"></div>
                                <div class="active-circle">
                                </div>
                            </div>
                        </div>
                        <div class="circle">
                            <div class="connect"></div>
                            <div class="inner-circle">
                            </div>
                            <div class="top-active">
                                <div class="active-connect"></div>
                                <div class="active-circle">
                                </div>
                            </div>
                        </div>
                        <div class="circle">
                            <div class="connect"></div>
                            <div class="inner-circle">
                            </div>
                            <div class="top-active">
                                <div class="active-connect"></div>
                                <div class="active-circle">
                                </div>
                            </div>
                        </div>
                        <div class="circle">
                            <div class="connect"></div>
                            <div class="inner-circle">
                            </div>
                            <div class="top-active">
                                <div class="active-connect"></div>
                                <div class="active-circle">
                                </div>
                            </div>
                        </div>
                        <div class="circle">
                            <div class="connect"></div>
                            <div class="inner-circle">
                            </div>
                            <div class="top-active">
                                <div class="active-connect"></div>
                                <div class="active-circle">
                                    <div class="dark"></div>
                                </div>
                            </div>
                        </div>
                        <div class="circle">
                            <div class="connect"></div>
                            <div class="inner-circle">
                            </div>
                            <div class="top-active">
                            </div>
                        </div>
                        <div class="circle">
                            <div class="connect"></div>
                            <div class="inner-circle">
                            </div>
                            <div class="top-active">
                            </div>
                        </div>
                        <div class="circle">
                            <div class="connect"></div>
                            <div class="inner-circle">
                            </div>
                            <div class="top-active">
                            </div>
                        </div>
                        <div class="circle">
                            <div class="connect"></div>
                            <div class="inner-circle">
                            </div>
                            <div class="top-active">
                            </div>
                        </div>
                        <div class="circle">
                            <div class="connect"></div>
                            <div class="inner-circle">
                            </div>
                            <div class="top-active">
                            </div>
                        </div>
                        <div class="circle">
                            <div class="connect"></div>
                            <div class="inner-circle">
                            </div>
                            <div class="top-active">
                            </div>
                        </div>
          
                    </div>
                </div>
            </div>

            <form class="grizzly-form submit_input">
                <h1 class="form-question ss">We only accept the best of the best. So, please upload a picture of your last 7 (or of your last 96% +) in school. This can also be a screenshot of your
                    grades online/canvas.</h1>
                <div class="input-wrapper file">
                    <label for="aa" id="fileLabel">
                        <span id="filechange">No choose file</span> 
                        <input type='file' id="aa" onchange="pressed()" >
                        <label class="upload-btn" for="aa">Upload File</label>
                    </label>

                </div>
                <button>
                    Next
                    <i class="fa-solid fa-arrow-right"></i>
                </button>
            </form>
        </section>
    </div>
    <script src="../app.js"></script>
    <script>
        const fileLabel = document.querySelector('#filechange')
        // file chosen
        window.pressed = function(){
        var a = document.getElementById('aa');
        if(a.value == "")
        {
            fileLabel.innerHTML = "No Choose File";
            alert('No file chosen!')
        }
        else
        {
            var theSplit = a.value.split('\\');
            fileLabel.innerHTML = theSplit[theSplit.length-1];
        }
        };

        let formAnswerCached = JSON.parse(window.sessionStorage.getItem('form-answer'));
        const submit_input = document.querySelector('.submit_input')
        submit_input.addEventListener('submit', (e) => {
            e.preventDefault()
            var a = document.getElementById('aa');
            if(a.value == "")
            {
                alert('No file chosen!')
                return
            }
            const file = document.querySelector('#aa')

            formAnswerCached.file = file.value

            window.sessionStorage.setItem('form-answer', JSON.stringify(formAnswerCached))
            window.location.href = './fit.html'
        })

    </script>
</body>
</html>